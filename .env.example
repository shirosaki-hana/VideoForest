# ============================================
# VideoForest Environment Configuration
# ============================================
# Duration units: ms, s, m, h, d, w (defaults to ms if omitted)

# --------------------------------------------
# Server
# --------------------------------------------
NODE_ENV=production
HOST=127.0.0.1
PORT=4001
FRONTEND_URL=http://127.0.0.1:4001

# --------------------------------------------
# Database
# --------------------------------------------
DATABASE_URL_SQLITE=file:./prisma/videoforest.db

# --------------------------------------------
# Security & Session
# --------------------------------------------
SESSION_COOKIE=session
SESSION_TTL=24h
REQUEST_BODY_LIMIT=10mb
RATELIMIT_MAX=100
RATELIMIT_WINDOWMS=10s

# --------------------------------------------
# Transcoding
# --------------------------------------------
# Comma-separated paths for media directories
MEDIA_PATHS=media/
# Directory for cached HLS segments
HLS_TEMP_DIR=temp/
# Enable faster encoding (trades quality for speed)
VIDEOFOREST_SPEED_MODE=true
# Hardware encoder: Auto | NVENC | QSV | CPU
VIDEOFOREST_ENCODER=Auto

# --------------------------------------------
# Prefetching
# --------------------------------------------
# Pre-transcode upcoming segments for smoother playback
VIDEOFOREST_PREFETCH_ENABLED=true
# Number of segments to prefetch ahead
VIDEOFOREST_PREFETCH_COUNT=3
# Maximum concurrent prefetch jobs
VIDEOFOREST_MAX_CONCURRENT_PREFETCH=2